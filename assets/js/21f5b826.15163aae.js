(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[9421],{7611:(e,t,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/clusterdef-azure.2339445.100.png 100w,"+s.p+"assets/ideal-img/clusterdef-azure.9c2423b.333.png 333w,"+s.p+"assets/ideal-img/clusterdef-azure.553f605.565.png 565w,"+s.p+"assets/ideal-img/clusterdef-azure.88a0cea.691.png 691w",images:[{path:s.p+"assets/ideal-img/clusterdef-azure.2339445.100.png",width:100,height:51},{path:s.p+"assets/ideal-img/clusterdef-azure.9c2423b.333.png",width:333,height:170},{path:s.p+"assets/ideal-img/clusterdef-azure.553f605.565.png",width:565,height:288},{path:s.p+"assets/ideal-img/clusterdef-azure.88a0cea.691.png",width:691,height:352}],src:s.p+"assets/ideal-img/clusterdef-azure.2339445.100.png",toString:function(){return s.p+"assets/ideal-img/clusterdef-azure.2339445.100.png"},placeholder:void 0,width:100,height:51},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAIAAADzBuo/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAhElEQVR4nDXLTQrCMBBA4dykhcxMO5O0xFqpUjrNTw2u3Aje/yiCKLzdxzO11jJNN5FVZGUOzJ7ZOwcAOWdTy/Ha9Z3LMyWd54A4AnRETdPotplHrfdlid7PSCfEM8DV2qHr2rbdVc0e4xAC970gOsQAcLF2JPpxTMmJICIR4T/63qr6AfR8HB7AnD/eAAAAAElFTkSuQmCC"}},380:(e,t,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/clusterdef-hyperv.655aa18.100.png 100w,"+s.p+"assets/ideal-img/clusterdef-hyperv.014305c.333.png 333w,"+s.p+"assets/ideal-img/clusterdef-hyperv.bc7c034.565.png 565w,"+s.p+"assets/ideal-img/clusterdef-hyperv.e460584.691.png 691w",images:[{path:s.p+"assets/ideal-img/clusterdef-hyperv.655aa18.100.png",width:100,height:51},{path:s.p+"assets/ideal-img/clusterdef-hyperv.014305c.333.png",width:333,height:168},{path:s.p+"assets/ideal-img/clusterdef-hyperv.bc7c034.565.png",width:565,height:285},{path:s.p+"assets/ideal-img/clusterdef-hyperv.e460584.691.png",width:691,height:349}],src:s.p+"assets/ideal-img/clusterdef-hyperv.655aa18.100.png",toString:function(){return s.p+"assets/ideal-img/clusterdef-hyperv.655aa18.100.png"},placeholder:void 0,width:100,height:51},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAIAAADzBuo/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAf0lEQVR4nCWJsQ6DMAwF+ZNEwn6ATUHI6cBACAkVM0uH/v+HVBHS3S3XXNd1hPBWXSsyD8MoMqoSUc65+Zznd0+/Uu50ZLOFeSIC4Jzbtq3uwyyKBGBhNqK1bSfAeb/H2JRSZrO+75RZmWeiQPQC/LNTSioCZgDVp13nvY8x/gH4dBwn3uSF2QAAAABJRU5ErkJggg=="}},229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>c});var n=s(4848),i=s(8453),r=(s(4182),s(1801),s(3012));s(7227),s(9489);const a={sidebar_position:2,slug:"/cluster-definition",displayed_sidebar:"neonkube",title:"Cluster Definitions",hide_title:!1,hide_table_of_contents:!0,description:"Getting started with NEONKUBE.",last_update:{author:"NEONFORGE Team"}},o=void 0,d={id:"neonkube/getting-started/cluster-definition",title:"Cluster Definitions",description:"Getting started with NEONKUBE.",source:"@site/docs/neonkube/getting-started/cluster-definition.mdx",sourceDirName:"neonkube/getting-started",slug:"/cluster-definition",permalink:"/docs/cluster-definition",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/getting-started/cluster-definition.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/cluster-definition",displayed_sidebar:"neonkube",title:"Cluster Definitions",hide_title:!1,hide_table_of_contents:!0,description:"Getting started with NEONKUBE.",last_update:{author:"NEONFORGE Team"}},sidebar:"neonkube",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"NEONDESKTOP",permalink:"/docs/neonkube/getting-started/neon-desktop"}},l={},c=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["NEONDESKTOP and NEONCLI are used to deploy Kubernetes clusters from your\r\nworkstation or laptop.  After setup and when started for the first time,\r\nNEONDESKTOP prompts to create a local ",(0,n.jsx)(t.strong,{children:"desktop cluster"})," with reasonable\r\nsettings."]}),"\n",(0,n.jsxs)(t.p,{children:["NEONDESKTOP and NEONCLI can also deploy clusters on the local machine using\r\nWindows Hyper-V to host the cluster node virtual machines (VMs) or on-premise\r\nusing one or more ",(0,n.jsx)(t.a,{href:"https://xenserver.com",children:"XenServer"})," or the open source\r\n",(0,n.jsx)(t.a,{href:"https://xcp-ng.org",children:"XCP-ng"})," hypervisors running on one or more servers.\r\nThese tools can also deploy to the Amazon AWS or Microsoft Azure clouds."]}),"\n",(0,n.jsxs)(t.p,{children:["You'll need a cluster definition to deploy anything besides a NEONDESKTOP\r\ncluster (that definition is baked into the NEONDESKTOP app).  A cluster\r\ndefinition is simply a ",(0,n.jsx)(t.strong,{children:"YAML"})," file describing the required nodes, network,\r\nhosting credentials, and other cluster configuration.  Here's a simple\r\ncluster definition that deploys a single node cluster hosted by Hyper-V\r\non a Windows machine:"]}),"\n",(0,n.jsx)(r.A,{img:s(380),style:{width:700}}),"\n",(0,n.jsxs)(t.p,{children:["This minimal definition describes a cluster named ",(0,n.jsx)(t.strong,{children:"my-cluster"})," that will be\r\nhosted by ",(0,n.jsx)(t.strong,{children:"hyperv"})," on the local machine.  We specified the local LAN subnet\r\nand gateway address and specified the nodes ",(0,n.jsx)(t.strong,{children:"name"}),", cluster ",(0,n.jsx)(t.strong,{children:"role"})," and IP\r\n",(0,n.jsx)(t.strong,{children:"address"})," as well as the ",(0,n.jsx)(t.strong,{children:"memory"}),", ",(0,n.jsx)(t.strong,{children:"disk"}),", and ",(0,n.jsx)(t.strong,{children:"virtual CPUs"})," to be\r\nassigned to the Hyper-V virtual machine created for the node."]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsx)(t.p,{children:"On-premise hosting environments like Hyper-V and XenServer/XCP-ng need to know\r\nabout the LAN configuration, including the LAN subnet and upstream gateway's\r\nIP address.  You also need to specify the IP address for each node."}),(0,n.jsx)(t.p,{children:"This all is optional for cloud environments where we configure the virtual\r\nnetwork there with default settings and automatically assign node IP addresses.\r\nThis can be custoimized though, if required."})]}),"\n",(0,n.jsx)(t.p,{children:"Here's another cluster definition example that deploys a four node cluster\r\nto Azure:"}),"\n",(0,n.jsx)(r.A,{img:s(7611),style:{width:700}}),"\n",(0,n.jsxs)(t.p,{children:["You can see that we've selected the ",(0,n.jsx)(t.strong,{children:"azure"})," hosting environment and then\r\nspecified additional Azure related settings such as the Azure credentials\r\nNEONKUBE will need to provison the cluster infrastructure as well as the\r\ntarget region and default VM size."]}),"\n",(0,n.jsxs)(t.p,{children:["Notice that we use the ",(0,n.jsx)(t.code,{children:"$<env:VARIABLE>"})," syntax to inject environment variables\r\nholding the Azure credentials into the cluster definition.  We could have just\r\npasted the credentials into the definition, but that generally not a good idea."]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["THe NEONFORGE team uses an internal tool that can inject secrets from the\r\n",(0,n.jsx)(t.a,{href:"https://1password.com/",children:"1Password"})," password manager.  We might release\r\na public version of this tool if there's interest."]})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);