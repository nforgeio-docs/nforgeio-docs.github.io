"use strict";(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[7796],{8812:(e,l,o)=>{o.r(l),o.d(l,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var n=o(4848),r=o(8453),t=o(2250),s=o(9489),a=o(7227);const i={sidebar_position:1,displayed_sidebar:"neonkube",title:"Hello World Example",hide_title:!1,hide_table_of_contents:!1,description:"Demonstrates how to deploy a simple application to a NeonKUBE cluster.",keywords:["helloworld","example","howto"],last_update:{author:"Marcus Bowyer"}},d="Hello World Example",c={id:"neonkube/how-to-guides/hello-world",title:"Hello World Example",description:"Demonstrates how to deploy a simple application to a NeonKUBE cluster.",source:"@site/docs/neonkube/how-to-guides/hello-world.mdx",sourceDirName:"neonkube/how-to-guides",slug:"/neonkube/how-to-guides/hello-world",permalink:"/docs/neonkube/how-to-guides/hello-world",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/how-to-guides/hello-world.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,displayed_sidebar:"neonkube",title:"Hello World Example",hide_title:!1,hide_table_of_contents:!1,description:"Demonstrates how to deploy a simple application to a NeonKUBE cluster.",keywords:["helloworld","example","howto"],last_update:{author:"Marcus Bowyer"}},sidebar:"neonkube",previous:{title:"How To Guides",permalink:"/docs/category/how-to-guides"},next:{title:"Volumes and Storage",permalink:"/docs/neonkube/volumes-storage"}},h={},u=[{value:"Clone demo repository",id:"clone-demo-repository",level:2},{value:"Publish images",id:"publish-images",level:2},{value:"Deploy hello-world-operator",id:"deploy-hello-world-operator",level:2},{value:"Deploy hello-world",id:"deploy-hello-world",level:2},{value:"View Hello, World!",id:"view-hello-world",level:2},{value:"HelloWorldDemo Options",id:"helloworlddemo-options",level:2},{value:"<code>logLevel</code>",id:"loglevel",level:3},{value:"<code>helloWorldReplicas</code>",id:"helloworldreplicas",level:3},{value:"<code>loadGeneratorReplicas</code>",id:"loadgeneratorreplicas",level:3},{value:"<code>storageType</code>",id:"storagetype",level:3},{value:"<code>ssoEnabled</code>",id:"ssoenabled",level:3},{value:"<code>neonDashboardEnabled</code>",id:"neondashboardenabled",level:3}];function p(e){const l={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h1,{id:"hello-world-example",children:"Hello World Example"}),"\n",(0,n.jsx)(l.p,{children:"This tutorial demonstrates how to deploy a simple application to a NeonKUBE\ncluster."}),"\n",(0,n.jsx)(l.h2,{id:"clone-demo-repository",children:"Clone demo repository"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-bash",children:"git clone https://github.com/nforgeio/neonKUBE-demos.git\n"})}),"\n",(0,n.jsx)(l.h2,{id:"publish-images",children:"Publish images"}),"\n",(0,n.jsx)(l.p,{children:"NeonKUBE Clusters include a built-in container registry to store images for\ndeployment. In this step we'll publish the necessary container images to the\nCluster Registry."}),"\n",(0,n.jsx)(l.admonition,{type:"note",children:(0,n.jsxs)(l.p,{children:["You can optionally build the containers yourself, rather than using the public\nimages. To do this, add the ",(0,n.jsx)(l.code,{children:"-build"})," flag to the following command. You'll need\nto have ",(0,n.jsx)(l.a,{href:"https://visualstudio.microsoft.com/",children:"Visual Studio"})," and the .NET SDK\ninstalled to do this."]})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-bash",children:"powershell -f publish.ps1\n"})}),"\n",(0,n.jsx)(l.h2,{id:"deploy-hello-world-operator",children:"Deploy hello-world-operator"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-bash",children:"neon apply -f hello-world-operator.yaml\n"})}),"\n",(0,n.jsx)(l.h2,{id:"deploy-hello-world",children:"Deploy hello-world"}),"\n",(0,n.jsxs)(l.p,{children:["You can edit the ",(0,n.jsx)(l.code,{children:"hello-world.yaml"})," spec to change the deployment behaviour."]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-yaml",children:"apiVersion: demo.neonkube.io/v1alpha1\nkind: HelloWorldDemo\nmetadata:\n  name: hello-world\n  labels:\n    app: hello-world\nspec:\n  logLevel: debug\n  helloWorldReplicas: 2\n  loadGeneratorReplicas: 3\n  storageType: ephemeral # ephemeral or nfs\n  ssoEnabled: false\n  neonDashboardEnabled: false\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-bash",children:"neon apply -f hello-world.yaml\n"})}),"\n",(0,n.jsx)(l.h2,{id:"view-hello-world",children:"View Hello, World!"}),"\n",(0,n.jsx)(l.admonition,{title:"HTTPS!",type:"info",children:(0,n.jsx)(l.p,{children:"Every NeonKUBE Cluster comes with an SSL certificate to make it easy to deploy\nnew services. The Hello World demo is deployed using this certificate."})}),"\n",(0,n.jsxs)(s.A,{groupId:"deployment",children:[(0,n.jsxs)(a.A,{value:"desktop",label:"neonDESKTOP",children:[(0,n.jsxs)(l.p,{children:["Open:"," "]}),(0,n.jsx)("a",{href:"https://hello-world.desktop.neoncluster.io",children:(0,n.jsx)(l.p,{children:(0,n.jsx)(l.a,{href:"https://hello-world.desktop.neoncluster.io",children:"https://hello-world.desktop.neoncluster.io"})})}),(0,n.jsx)(l.p,{children:"."})]}),(0,n.jsxs)(a.A,{value:"kube",label:"neonKUBE",children:[(0,n.jsx)(l.p,{children:"Use the following command to get the URL for Hello, World!, and open it in\nyour browser."}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(t.A,{language:"bash",children:"powershell -c \"Write-Host (('https://hello-world.', (neon cluster info | ConvertFrom-Json).Domain) -join '')\""})]})]}),"\n",(0,n.jsx)(l.h2,{id:"helloworlddemo-options",children:"HelloWorldDemo Options"}),"\n",(0,n.jsxs)(l.p,{children:["The ",(0,n.jsx)(l.code,{children:"HelloWorldDemo"})," Custom Resource ",(0,n.jsx)(l.code,{children:"spec"})," allows for configuration of the\ndemo. These options can be changed at any time by modifying the\n",(0,n.jsx)(l.code,{children:"hello-world.yaml"})," manifest and applying the changes with\n",(0,n.jsx)(l.code,{children:"neon apply -f hello-world.yaml"}),"."]}),"\n",(0,n.jsx)(l.h3,{id:"loglevel",children:(0,n.jsx)(l.code,{children:"logLevel"})}),"\n",(0,n.jsxs)(l.p,{children:[(0,n.jsx)(l.code,{children:"logLevel"})," can be set to the following:"]}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:"CRITICAL"}),"\n",(0,n.jsx)(l.li,{children:"ERROR"}),"\n",(0,n.jsx)(l.li,{children:"WARNING"}),"\n",(0,n.jsx)(l.li,{children:"INFORMATION"}),"\n",(0,n.jsx)(l.li,{children:"DEBUG"}),"\n",(0,n.jsx)(l.li,{children:"TRACE"}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"helloworldreplicas",children:(0,n.jsx)(l.code,{children:"helloWorldReplicas"})}),"\n",(0,n.jsxs)(l.p,{children:["This is the number of replicas that will be deployed for the ",(0,n.jsx)(l.code,{children:"hello-world"})," web\napp."]}),"\n",(0,n.jsx)(l.h3,{id:"loadgeneratorreplicas",children:(0,n.jsx)(l.code,{children:"loadGeneratorReplicas"})}),"\n",(0,n.jsx)(l.p,{children:"This is the number of replicas for the load generator app. Increase this to\ngenerate more load."}),"\n",(0,n.jsx)(l.h3,{id:"storagetype",children:(0,n.jsx)(l.code,{children:"storageType"})}),"\n",(0,n.jsxs)(l.p,{children:["storageType can be set to ",(0,n.jsx)(l.code,{children:"ephemeral"})," or ",(0,n.jsx)(l.code,{children:"nfs"}),"."]}),"\n",(0,n.jsxs)(l.p,{children:["The ",(0,n.jsx)(l.code,{children:"hello-world"})," app has a ",(0,n.jsx)(l.code,{children:"/storage"}),' page where users can update a text file.\nThis can be used to verify the behaviours described below. Try updating the text\nfile and killing some pods with the "Kill Pods" button to see what happens.']}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"ephemeral"})," does not create any Kubernetes\n",(0,n.jsx)(l.a,{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/",children:"Persistent Volumes"}),".\nEach pod has its own ephemeral volume, and any data stored on it will be lost\nwhen the pod is deleted."]}),"\n",(0,n.jsxs)(l.li,{children:[(0,n.jsx)(l.code,{children:"nfs"})," Creates a persistent volume that is shared between all ",(0,n.jsx)(l.code,{children:"hello-world"}),"\npods as described\n",(0,n.jsx)(l.a,{href:"http://localhost:3000/docs/neonkube/volumes-storage#network-file-system",children:"here"}),".\nIn this mode, any data stored on the Volume will be persisted."]}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"ssoenabled",children:(0,n.jsx)(l.code,{children:"ssoEnabled"})}),"\n",(0,n.jsxs)(l.p,{children:["If set to true, the Operator will configure the ",(0,n.jsx)(l.code,{children:"hello-world"})," demo to use Neon\nSingle Sign On. Users will need cluster credentials to access the demo."]}),"\n",(0,n.jsx)(l.h3,{id:"neondashboardenabled",children:(0,n.jsx)(l.code,{children:"neonDashboardEnabled"})}),"\n",(0,n.jsxs)(l.p,{children:["If set to true, the Operator will add a link to the ",(0,n.jsx)(l.code,{children:"hello-world"})," dashboard to\nthe NeonKUBE dashboard."]})]})}function m(e={}){const{wrapper:l}={...(0,r.R)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},7227:(e,l,o)=>{o.d(l,{A:()=>s});o(6540);var n=o(4164);const r={tabItem:"tabItem_Ymn6"};var t=o(4848);function s(e){let{children:l,hidden:o,className:s}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,s),hidden:o,children:l})}},9489:(e,l,o)=>{o.d(l,{A:()=>y});var n=o(6540),r=o(4164),t=o(4245),s=o(6347),a=o(6494),i=o(2814),d=o(5167),c=o(1269);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:l}=e;return!!l&&"object"==typeof l&&"value"in l}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:l,children:o}=e;return(0,n.useMemo)((()=>{const e=l??function(e){return h(e).map((e=>{let{props:{value:l,label:o,attributes:n,default:r}}=e;return{value:l,label:o,attributes:n,default:r}}))}(o);return function(e){const l=(0,d.X)(e,((e,l)=>e.value===l.value));if(l.length>0)throw new Error(`Docusaurus error: Duplicate values "${l.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[l,o])}function p(e){let{value:l,tabValues:o}=e;return o.some((e=>e.value===l))}function m(e){let{queryString:l=!1,groupId:o}=e;const r=(0,s.W6)(),t=function(e){let{queryString:l=!1,groupId:o}=e;if("string"==typeof l)return l;if(!1===l)return null;if(!0===l&&!o)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return o??null}({queryString:l,groupId:o});return[(0,i.aZ)(t),(0,n.useCallback)((e=>{if(!t)return;const l=new URLSearchParams(r.location.search);l.set(t,e),r.replace({...r.location,search:l.toString()})}),[t,r])]}function b(e){const{defaultValue:l,queryString:o=!1,groupId:r}=e,t=u(e),[s,i]=(0,n.useState)((()=>function(e){let{defaultValue:l,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(l){if(!p({value:l,tabValues:o}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${l}" but none of its children has the corresponding value. Available values are: ${o.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return l}const n=o.find((e=>e.default))??o[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:l,tabValues:t}))),[d,h]=m({queryString:o,groupId:r}),[b,x]=function(e){let{groupId:l}=e;const o=function(e){return e?`docusaurus.tab.${e}`:null}(l),[r,t]=(0,c.Dv)(o);return[r,(0,n.useCallback)((e=>{o&&t.set(e)}),[o,t])]}({groupId:r}),f=(()=>{const e=d??b;return p({value:e,tabValues:t})?e:null})();(0,a.A)((()=>{f&&i(f)}),[f]);return{selectedValue:s,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);i(e),h(e),x(e)}),[h,x,t]),tabValues:t}}var x=o(1062);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=o(4848);function w(e){let{className:l,block:o,selectedValue:n,selectValue:s,tabValues:a}=e;const i=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),c=e=>{const l=e.currentTarget,o=i.indexOf(l),r=a[o].value;r!==n&&(d(l),s(r))},h=e=>{let l=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const o=i.indexOf(e.currentTarget)+1;l=i[o]??i[0];break}case"ArrowLeft":{const o=i.indexOf(e.currentTarget)-1;l=i[o]??i[i.length-1];break}}l?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":o},l),children:a.map((e=>{let{value:l,label:o,attributes:t}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===l?0:-1,"aria-selected":n===l,ref:e=>i.push(e),onKeyDown:h,onClick:c,...t,className:(0,r.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":n===l}),children:o??l},l)}))})}function j(e){let{lazy:l,children:o,selectedValue:r}=e;const t=(Array.isArray(o)?o:[o]).filter(Boolean);if(l){const e=t.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:t.map(((e,l)=>(0,n.cloneElement)(e,{key:l,hidden:e.props.value!==r})))})}function v(e){const l=b(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",f.tabList),children:[(0,g.jsx)(w,{...e,...l}),(0,g.jsx)(j,{...e,...l})]})}function y(e){const l=(0,x.A)();return(0,g.jsx)(v,{...e,children:h(e.children)},String(l))}}}]);