(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[9421],{7611:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/clusterdef-azure.2339445.100.png 100w,"+n.p+"assets/ideal-img/clusterdef-azure.9c2423b.333.png 333w,"+n.p+"assets/ideal-img/clusterdef-azure.553f605.565.png 565w,"+n.p+"assets/ideal-img/clusterdef-azure.88a0cea.691.png 691w",images:[{path:n.p+"assets/ideal-img/clusterdef-azure.2339445.100.png",width:100,height:51},{path:n.p+"assets/ideal-img/clusterdef-azure.9c2423b.333.png",width:333,height:170},{path:n.p+"assets/ideal-img/clusterdef-azure.553f605.565.png",width:565,height:288},{path:n.p+"assets/ideal-img/clusterdef-azure.88a0cea.691.png",width:691,height:352}],src:n.p+"assets/ideal-img/clusterdef-azure.2339445.100.png",toString:function(){return n.p+"assets/ideal-img/clusterdef-azure.2339445.100.png"},placeholder:void 0,width:100,height:51},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAIAAADzBuo/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAhElEQVR4nDXLTQrCMBBA4dykhcxMO5O0xFqpUjrNTw2u3Aje/yiCKLzdxzO11jJNN5FVZGUOzJ7ZOwcAOWdTy/Ha9Z3LMyWd54A4AnRETdPotplHrfdlid7PSCfEM8DV2qHr2rbdVc0e4xAC970gOsQAcLF2JPpxTMmJICIR4T/63qr6AfR8HB7AnD/eAAAAAElFTkSuQmCC"}},380:(e,t,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/clusterdef-hyperv.4d05c0e.100.png 100w,"+n.p+"assets/ideal-img/clusterdef-hyperv.e691d5d.333.png 333w,"+n.p+"assets/ideal-img/clusterdef-hyperv.8befd1a.494.png 494w",images:[{path:n.p+"assets/ideal-img/clusterdef-hyperv.4d05c0e.100.png",width:100,height:40},{path:n.p+"assets/ideal-img/clusterdef-hyperv.e691d5d.333.png",width:333,height:135},{path:n.p+"assets/ideal-img/clusterdef-hyperv.8befd1a.494.png",width:494,height:200}],src:n.p+"assets/ideal-img/clusterdef-hyperv.4d05c0e.100.png",toString:function(){return n.p+"assets/ideal-img/clusterdef-hyperv.4d05c0e.100.png"},placeholder:void 0,width:100,height:40},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAIAAAA4WjmaAAAACXBIWXMAAA7BAAAOwQG4kWvtAAAAXElEQVR4nGMIdnYONtC3VFExUlGxV1a2VFHRVlVTVYMChjAXFz9TE1tVVRMVFRclJSMVFZgUWNrL1dXV2NhcQcECLG2loqKOLO2ko2OhqamqCjJPXU1NU00VWRoAQqoUuJplpv8AAAAASUVORK5CYII="}},229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var s=n(4848),i=n(8453),r=(n(4182),n(1801),n(3012));n(7227),n(9489);const o={sidebar_position:2,displayed_sidebar:"neonkube",title:"Cluster Definitions",hide_title:!1,hide_table_of_contents:!0,description:"Getting started with NeonKUBE cluster definitions",last_update:{author:"NeonFORGE Team"}},a="Cluster Definitions",d={id:"neonkube/getting-started/cluster-definition",title:"Cluster Definitions",description:"Getting started with NeonKUBE cluster definitions",source:"@site/docs/neonkube/getting-started/cluster-definition.mdx",sourceDirName:"neonkube/getting-started",slug:"/neonkube/getting-started/cluster-definition",permalink:"/docs/neonkube/getting-started/cluster-definition",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/getting-started/cluster-definition.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,displayed_sidebar:"neonkube",title:"Cluster Definitions",hide_title:!1,hide_table_of_contents:!0,description:"Getting started with NeonKUBE cluster definitions",last_update:{author:"NeonFORGE Team"}},sidebar:"neonkube",previous:{title:"Installation",permalink:"/docs/neonkube/getting-started/installation"},next:{title:"Deploy with NeonDESKTOP",permalink:"/docs/neonkube/getting-started/neon-desktop"}},l={},c=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"cluster-definitions",children:"Cluster Definitions"}),"\n",(0,s.jsxs)(t.p,{children:["NeonDESKTOP and NeonCLI are used to deploy Kubernetes clusters from your\nworkstation or laptop. After setup and when started for the first time,\nNeonDESKTOP prompts to create a local ",(0,s.jsx)(t.strong,{children:"desktop cluster"})," with reasonable\nsettings."]}),"\n",(0,s.jsxs)(t.p,{children:["NeonDESKTOP and NeonCLI can also deploy clusters on the local machine using\nWindows Hyper-V to host the cluster node virtual machines (VMs) or on-premise\nusing one or more ",(0,s.jsx)(t.a,{href:"https://xenserver.com",children:"XenServer"})," or the open source\n",(0,s.jsx)(t.a,{href:"https://xcp-ng.org",children:"XCP-ng"})," hypervisors running on one or more servers. These\ntools can also deploy to the Amazon AWS or Microsoft Azure clouds."]}),"\n",(0,s.jsxs)(t.p,{children:["You'll need a cluster definition to deploy anything besides a NeonDESKTOP\ncluster (that definition is baked into the NeonDESKTOP app). A cluster\ndefinition is simply a ",(0,s.jsx)(t.strong,{children:"YAML"})," file describing the required nodes, network,\nhosting credentials, and other cluster configuration. Here's a simple cluster\ndefinition that deploys a single node cluster hosted by Hyper-V on your Windows\nlaptop or workstation:"]}),"\n",(0,s.jsx)(r.A,{className:"w-full max-w-4xl",img:n(380)}),"\n",(0,s.jsxs)(t.p,{children:["This minimal definition describes a cluster named ",(0,s.jsx)(t.strong,{children:"my-cluster"})," that will be\nhosted by ",(0,s.jsx)(t.strong,{children:"hyperv"})," on the local machine. We specified the local LAN subnet and\ngateway address and specified the nodes ",(0,s.jsx)(t.strong,{children:"name"}),", cluster ",(0,s.jsx)(t.strong,{children:"role"})," and IP\n",(0,s.jsx)(t.strong,{children:"address"})," as well as the ",(0,s.jsx)(t.strong,{children:"memory"}),", ",(0,s.jsx)(t.strong,{children:"disk"}),", and ",(0,s.jsx)(t.strong,{children:"virtual CPUs"})," to be\nassigned to the Hyper-V virtual machine created for the node."]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"On-premise hosting environments like Hyper-V and XenServer/XCP-ng need to know\nabout the LAN configuration, including the LAN subnet and upstream gateway's IP\naddress. You also need to specify the IP address for each node."}),(0,s.jsx)(t.p,{children:"This all is optional for cloud environments where we configure the virtual\nnetwork there with default settings and automatically assign node IP addresses.\nThis can be custoimized though, if required."})]}),"\n",(0,s.jsx)(t.p,{children:"Here's another cluster definition example that deploys a four node cluster to\nAzure:"}),"\n",(0,s.jsx)(r.A,{className:"w-full max-w-4xl",img:n(7611)}),"\n",(0,s.jsxs)(t.p,{children:["You can see that we've selected the ",(0,s.jsx)(t.strong,{children:"azure"})," hosting environment and then\nspecified additional Azure related settings such as the Azure credentials\nNeonKUBE will need to provison the cluster infrastructure as well as the target\nregion and default VM size."]}),"\n",(0,s.jsxs)(t.p,{children:["Notice that we use the ",(0,s.jsx)(t.code,{children:"$<env:VARIABLE>"})," syntax to inject environment variables\nholding the Azure credentials into the cluster definition. We could have just\npasted the credentials into the definition, but that generally not a good idea."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["The NeonFORGE team uses an internal tool that can inject secrets from the\n",(0,s.jsx)(t.a,{href:"https://1password.com/",children:"1Password"})," password manager. We might release a public\nversion of this tool if there's interest."]})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);