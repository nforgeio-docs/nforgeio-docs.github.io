(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[2583],{3793:(e,n,s)=>{e.exports={src:{srcSet:s.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png 100w,"+s.p+"assets/ideal-img/deploy-cluster.2928cff.241.png 241w",images:[{path:s.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png",width:100,height:178},{path:s.p+"assets/ideal-img/deploy-cluster.2928cff.241.png",width:241,height:428}],src:s.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png",toString:function(){return s.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png"},placeholder:void 0,width:100,height:178},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAASCAYAAABit09LAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB7ElEQVR4nG2RS08TYRiF+yOsvVF0oSYujIm/wMRf5saIK2Mal2JASumVUrowhhWLmpREpPPFEjozrU2hM0zn1umNUB4zAwRET/Ll3Tw557zvF3r98TOlrzvkczk2NrLk8wXSa2mq1Sr1+h5vl96xkHxIaHdfcOp4NJtNdF3HcV00TcO2bXxtlreIJxYJbdf22W1plL83+NZQ2JFU6j2HWmfAT2PGh9UcCR+s/Wig6hZ70iFyT6Ojm3QNh9+6hTmds7pRuHT8JQRDx0FVZE56XTzXZToeB9NXqVS6BBuSwLJtFEVFP9Vxhy7eaBR09VUsXoFCCAamhawoTKcTRuMxo9EI9y4oSQLbdmgeNumfnDCZTPC8/4BCCEzT5Kh1xHA4DNz+dty8BVom7U6b8VXsbbBQKN6KdmxkWWbounieFzwfvLi4IJvN3Thalh38jGEYzGazwNFxnH+X8c8jJEG32+XUMBgMjKDvHVAKYjqdDv1+H0VVOT7u3XS8Bg8ODhgMTGS5FXS8XsiyrKBjvlAgvrBIqN1uMzs7Q9M15vN54OLr/Pw8mFuVbSLRJKFUKsXKygrLy5/IZDOsZdKkM+t8WV+jXKmw9P4Nz14+IRSLxYjEIkTjEcKxMOHEfcKJCOFklHsP4jx68Zjnr57yB7rHR/TXuoEwAAAAAElFTkSuQmCC"}},6361:(e,n,s)=>{"use strict";s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var t=s(4848),r=s(8453),i=(s(4182),s(1801),s(3012));s(7227),s(9489);const o={sidebar_position:8,displayed_sidebar:"neonkube",title:"Deploy on XenServer/XCP-ng",hide_title:!1,hide_table_of_contents:!1,description:"Getting started with NeonKUBE on XenServer.",keywords:["XenServer","XCP","XCP-ng"],last_update:{author:"NeonFORGE Team"}},l="Deploy on XenServer/XCP-ng",d={id:"neonkube/getting-started/xenserver",title:"Deploy on XenServer/XCP-ng",description:"Getting started with NeonKUBE on XenServer.",source:"@site/docs/neonkube/getting-started/xenserver.mdx",sourceDirName:"neonkube/getting-started",slug:"/neonkube/getting-started/xenserver",permalink:"/docs/neonkube/getting-started/xenserver",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/getting-started/xenserver.mdx",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,displayed_sidebar:"neonkube",title:"Deploy on XenServer/XCP-ng",hide_title:!1,hide_table_of_contents:!1,description:"Getting started with NeonKUBE on XenServer.",keywords:["XenServer","XCP","XCP-ng"],last_update:{author:"NeonFORGE Team"}},sidebar:"neonkube",previous:{title:"Deploy on Azure",permalink:"/docs/neonkube/getting-started/azure"},next:{title:"How To Guides",permalink:"/docs/category/how-to-guides"}},a={},c=[{value:"Cluster Definition",id:"cluster-definition",level:3},{value:"Cluster Deployment via NeonDESKTOP",id:"cluster-deployment-via-neondesktop",level:2},{value:"Cluster Deployment via NeonCLI",id:"cluster-deployment-via-neoncli",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"deploy-on-xenserverxcp-ng",children:"Deploy on XenServer/XCP-ng"}),"\n",(0,t.jsxs)(n.p,{children:["You'll need a machine running either the XenServer or XCP-ng hypervisor.\n",(0,t.jsx)(n.a,{href:"https://xenserver.com",children:"XenServer"})," is a commercial offering that used to have a\nfree edition but now only has a time-limited trial. ",(0,t.jsx)(n.a,{href:"https://xcp-ng.org",children:"XCP-ng"}),"\nis an open source fork of the XenServer project, back when it was open source\ntoo.",(0,t.jsx)(n.br,{}),"\n","XCP-ng is completely free."]}),"\n",(0,t.jsxs)(n.p,{children:["We've been using ",(0,t.jsx)(n.strong,{children:"XCP-ng for about 5 years"})," now and have been happy with it."]}),"\n",(0,t.jsx)(n.p,{children:"You'll need an AMD64 compatible computer for this. This doesn't need to be\nparticularily high powered but should minimially have:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"cpu: 4 cores"}),"\n",(0,t.jsx)(n.li,{children:"memory: 16+ GB"}),"\n",(0,t.jsx)(n.li,{children:"disk: 500GB SSD"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"XenServer/XCP-ng v8.2+"})," is required."]}),"\n",(0,t.jsxs)(n.p,{children:["Download and install either ",(0,t.jsx)(n.strong,{children:"XenServer"})," or ",(0,t.jsx)(n.strong,{children:"XCP-ng"}),", following the\ninstructions on the respwctive site. Make a note of the ",(0,t.jsx)(n.strong,{children:"IP Address"})," assigned\nto the machine as well as the ",(0,t.jsx)(n.strong,{children:"root password"})," you created."]}),"\n",(0,t.jsx)(n.h1,{id:"deploy-a-neonkube-cluster-on-azure",children:"Deploy a NeonKUBE Cluster on AZURE"}),"\n",(0,t.jsx)(n.h3,{id:"cluster-definition",children:"Cluster Definition"}),"\n",(0,t.jsx)(n.p,{children:"First, you'll need to save this cluster definition as a YAML file on your\nmachine. This provisions a single node cluster on your Xen machine."}),"\n",(0,t.jsx)(n.p,{children:"Be sure to make these substitutions first:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"[XEN_HOST_PASSWORD]"}),": change this to the root password you created when you\ndeployed the Xen machine."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"[XEN_HOST_ADDRESS]"}),": change this to the Xen machine's IP address."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Network:"})," change ",(0,t.jsx)(n.strong,{children:"network.gateway"})," and ",(0,t.jsx)(n.strong,{children:"network.premiseSubnet"})," to the\nsettings for your local LAN and also set ",(0,t.jsx)(n.strong,{children:"nodes.control-0.address"})," to an\nunused address on the LAN."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"name: my-xen-cluster\nhosting:\n  environment: xenserver\n  vm:\n    hostUsername: root\n    hostPassword: [XEN_HOST_PASSWORD]\n    namePrefix: vm_prefix\n    hosts:\n      - name: MY-XEN-SERVER\n        address: [XEN_HOST_ADDRESS]\nnetwork:\n  gateway: 10.100.0.1\n  premiseSubnet: 10.100.0.0/16\nnodes:\n  control-0:\n    role: control-plane\n    address: 10.100.1.100\n    vm:\n      host: MY-XEN-SERVER\n      cores: 4\n      memory: 8GiB\n      osDisk: 64GiB\n"})}),"\n",(0,t.jsx)(n.h2,{id:"cluster-deployment-via-neondesktop",children:"Cluster Deployment via NeonDESKTOP"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Right click the NeonDESKTOP icon in the taskbar > Deploy cluster"}),"\n",(0,t.jsx)(i.A,{className:"max-w-72 w-full",img:s(3793)}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Use the file picker to select the cluster definiton file you saved above"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Grab a coffee and wait for NeonDESKTOP to deploy the cluster."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cluster-deployment-via-neoncli",children:"Cluster Deployment via NeonCLI"}),"\n",(0,t.jsx)(n.p,{children:"Cluster deployment happens in two phases:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Configuring the hosting infrastructure, which involves configuring the\n",(0,t.jsx)(n.strong,{children:"Resource Group"}),", ",(0,t.jsx)(n.strong,{children:"VPC"}),", starting the ",(0,t.jsx)(n.strong,{children:"Instances"}),", configuring the\n",(0,t.jsx)(n.strong,{children:"LoadBalancer"}),", ",(0,t.jsx)(n.strong,{children:"IP Addresses"}),", ",(0,t.jsx)(n.strong,{children:"Disks"}),", etc."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Setting up the cluster. This involves configuring Linux and Kubernetes and\nthen installing the necessary cluster components via Helm charts."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Execute the commands to deploy this cluster, passing the ",(0,t.jsx)(n.strong,{children:"PATH"})," to the cluster\ndefinition file you saved above and ",(0,t.jsx)(n.strong,{children:"CLUSTERNAME"})," to the cluster name as\ndefined in the definition:"]}),"\n",(0,t.jsx)(n.p,{children:"Prepare the cluster infrastructure (change PATH to your cluster definition path)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",children:"neon cluster prepare /path/to/your/cluster-definition.yaml\n"})}),"\n",(0,t.jsx)(n.p,{children:"Setup the cluster"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",children:"neon cluster setup root@my-xen-cluster\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then wait for cluster setup to complete."}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.p,{children:"These operations are currently coordinated by NeonDESKTOP or NeonCLI running on\nyour machine, so you'll need to keep your computer running and connected to the\nnetwork."}),(0,t.jsx)(n.p,{children:"We plan on supporting cloud based deployment in the future where these\noperations will be managed in the cloud, rather than from your computer."})]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);