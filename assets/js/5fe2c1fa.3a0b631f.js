"use strict";(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[5420],{3331:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>a});var t=s(4848),i=s(8453);s(4182),s(1801),s(3012),s(7227),s(9489);const o={sidebar_position:5,displayed_sidebar:"neonkube",title:"Job Options",hide_title:!1,hide_table_of_contents:!0,description:"NeonKUBE job schedules",last_update:{author:"NeonFORGE Team"}},r="Job Options",d={id:"neonkube/cluster-definition/job-options",title:"Job Options",description:"NeonKUBE job schedules",source:"@site/docs/neonkube/cluster-definition/job-options.mdx",sourceDirName:"neonkube/cluster-definition",slug:"/neonkube/cluster-definition/job-options",permalink:"/docs/neonkube/cluster-definition/job-options",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/cluster-definition/job-options.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,displayed_sidebar:"neonkube",title:"Job Options",hide_title:!1,hide_table_of_contents:!0,description:"NeonKUBE job schedules",last_update:{author:"NeonFORGE Team"}},sidebar:"neonkube",previous:{title:"XenServer",permalink:"/docs/neonkube/cluster-definition/hosting-options/xenserver-hosting-options"},next:{title:"Kubelet Options",permalink:"/docs/neonkube/cluster-definition/kubelet-options"}},l={},a=[];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"job-options",children:"Job Options"}),"\n",(0,t.jsxs)(n.p,{children:["Specifies enhanced Quartz cron schedules for NeonKUBE cluster jobs performed by cluster operators such as\n",(0,t.jsx)(n.strong,{children:"neon-cluster-operator"}),". Each job can be enabled or disabled independently and scheduled using a CRON/Quartz like\nstring, like:"]}),"\n","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'enabled:  true\nschedule: "R R 0 ? * *"\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"schedule"})," specifies the job schedule. This is extended Quartz CRON expression.",(0,t.jsx)(n.br,{}),"\n","This defaults to ",(0,t.jsx)(n.strong,{children:'"R R 0 ? * *"'})," which fires every day at a random minute and second between 12:00am and 1:00am."]}),"\n",(0,t.jsx)(n.p,{children:"Cron expressions consist of seven sub-expressions that describe the details of the schedule. The sub expressions (in\norder) are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Seconds"})," (0..59)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Minutes"})," (0..59)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Hours"})," (0..23)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Day-of-Month"})," (1..31)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Month"})," (1..12) or MON-DEC"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Day-of-Week"})," (1..7) or SUN-SAT"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Year"})," (optional) (1970..2099)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["An example of a complete cron expression is ",(0,t.jsx)(n.strong,{children:'"0 0 15 ? * MON"'})," which triggers ",(0,t.jsx)(n.strong,{children:"every Monday at 3pm"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For the full documentation which describes special characters, see:\n",(0,t.jsx)(n.a,{href:"https://www.quartz-scheduler.net/documentation/quartz-3.x/tutorial/crontriggers.html#cron-expressions",children:"Quartz CRON Expressions"})]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsxs)(n.p,{children:["In addition to the standard Quartz defined special characters, we also support the ",(0,t.jsx)("b",{children:"R"})," character which picks a\nrandom value within the allowed range for a field. For example:"]}),(0,t.jsx)("b",{children:'"0 0 R R * *"'}),(0,t.jsx)(n.p,{children:"schedules the job for a random hour and minute during the day. This is useful for situations like uploading telemetry to\na global service where you don't want a potentially large number of clients being scheduled to hit the service at the\nsame time."})]}),"\n",(0,t.jsxs)(n.p,{children:["Here's what the cluster job options look like, with the default values or ",(0,t.jsx)(n.strong,{children:"[required]"})," for properties that must be\nspecified:"]}),"\n","\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'jobs:\n    enabled:  true\n    schedule: "0 0 0 ? * TUE"\n  controlPlaneCertificateRenewal:\n    enabled:  true\n    schedule: "0 0 0 ? * TUE"\n  harborImagePush:\n    enabled:  true\n    schedule: "0 0 0 ? * TUE"\n  linuxSecurityPatches:\n    enabled:  true\n    schedule: "0 0 0 ? * TUE"\n  nodeCaCertificateRenewal:\n    enabled:  true\n    schedule: "0 0 0 ? * TUE"\n  telemetryPing:\n    enabled:  true\n    schedule: "R R 0 ? * *"\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);