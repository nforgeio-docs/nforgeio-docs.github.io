(self.webpackChunkneon_docs=self.webpackChunkneon_docs||[]).push([[832],{3931:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png 100w,"+t.p+"assets/ideal-img/deploy-cluster.2928cff.241.png 241w",images:[{path:t.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png",width:100,height:178},{path:t.p+"assets/ideal-img/deploy-cluster.2928cff.241.png",width:241,height:428}],src:t.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png",toString:function(){return t.p+"assets/ideal-img/deploy-cluster.8ef9fb4.100.png"},placeholder:void 0,width:100,height:178},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAASCAYAAABit09LAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB7ElEQVR4nG2RS08TYRiF+yOsvVF0oSYujIm/wMRf5saIK2Mal2JASumVUrowhhWLmpREpPPFEjozrU2hM0zn1umNUB4zAwRET/Ll3Tw557zvF3r98TOlrzvkczk2NrLk8wXSa2mq1Sr1+h5vl96xkHxIaHdfcOp4NJtNdF3HcV00TcO2bXxtlreIJxYJbdf22W1plL83+NZQ2JFU6j2HWmfAT2PGh9UcCR+s/Wig6hZ70iFyT6Ojm3QNh9+6hTmds7pRuHT8JQRDx0FVZE56XTzXZToeB9NXqVS6BBuSwLJtFEVFP9Vxhy7eaBR09VUsXoFCCAamhawoTKcTRuMxo9EI9y4oSQLbdmgeNumfnDCZTPC8/4BCCEzT5Kh1xHA4DNz+dty8BVom7U6b8VXsbbBQKN6KdmxkWWbounieFzwfvLi4IJvN3Thalh38jGEYzGazwNFxnH+X8c8jJEG32+XUMBgMjKDvHVAKYjqdDv1+H0VVOT7u3XS8Bg8ODhgMTGS5FXS8XsiyrKBjvlAgvrBIqN1uMzs7Q9M15vN54OLr/Pw8mFuVbSLRJKFUKsXKygrLy5/IZDOsZdKkM+t8WV+jXKmw9P4Nz14+IRSLxYjEIkTjEcKxMOHEfcKJCOFklHsP4jx68Zjnr57yB7rHR/TXuoEwAAAAAElFTkSuQmCC"}},7542:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var s=t(4848),r=t(8453),i=t(3012);const l={sidebar_position:4,displayed_sidebar:"neonkube",title:"Azure Cluster",hide_title:!1,hide_table_of_contents:!1,description:"Getting started with NeonKUBE on Azure.",keywords:["azure"],last_update:{author:"Marcus Bowyer"}},o="Deploy A NeonKUBE Cluster on Azure",a={id:"neonkube/installation/azure",title:"Azure Cluster",description:"Getting started with NeonKUBE on Azure.",source:"@site/docs/neonkube/installation/azure.mdx",sourceDirName:"neonkube/installation",slug:"/neonkube/installation/azure",permalink:"/docs/neonkube/installation/azure",draft:!1,unlisted:!1,editUrl:"https://github.com/nforgeio/documentation/edit/master/docs/neonkube/installation/azure.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,displayed_sidebar:"neonkube",title:"Azure Cluster",hide_title:!1,hide_table_of_contents:!1,description:"Getting started with NeonKUBE on Azure.",keywords:["azure"],last_update:{author:"Marcus Bowyer"}},sidebar:"neonkube",previous:{title:"AWS Cluster",permalink:"/docs/neonkube/installation/aws"},next:{title:"XenServer Cluster",permalink:"/docs/neonkube/installation/xenserver"}},c={},d=[{value:"Prerquisites",id:"prerquisites",level:2},{value:"Creating a cluster",id:"creating-a-cluster",level:2},{value:"Azure CLI",id:"azure-cli",level:3},{value:"Azure RBAC",id:"azure-rbac",level:3},{value:"Accept offer terms",id:"accept-offer-terms",level:3},{value:"Cluster Definition",id:"cluster-definition",level:3},{value:"Creating the Cluster",id:"creating-the-cluster",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"deploy-a-neonkube-cluster-on-azure",children:"Deploy A NeonKUBE Cluster on Azure"}),"\n",(0,s.jsx)(n.h2,{id:"prerquisites",children:"Prerquisites"}),"\n",(0,s.jsxs)(n.p,{children:["Make sure you have neon-desktop installed. To install, follow the neon-desktop\ninstallation instructions ",(0,s.jsx)(n.a,{href:"./neon-desktop",children:"here"})]}),"\n",(0,s.jsx)(n.h2,{id:"creating-a-cluster",children:"Creating a cluster"}),"\n",(0,s.jsx)(n.h3,{id:"azure-cli",children:"Azure CLI"}),"\n",(0,s.jsxs)(n.p,{children:["Install the\n",(0,s.jsx)(n.a,{href:"https://api-docs.neonforge.com/neonkube/api/Neon.Kube.ClusterDef.ClusterDefinition.html",children:"Azure CLI"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"azure-rbac",children:"Azure RBAC"}),"\n",(0,s.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"az ad sp create-for-rbac --name USER --role owner --scopes /subscriptions/AZURE_SUBSCRIPTION_ID\n"})}),"\n",(0,s.jsx)(n.p,{children:"The output will be something like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "appId": "AZURE_CLIENT_ID",\n  "displayName": "example-app-name",\n  "name": "http://example-app-name",\n  "password": "AZURE_CLIENT_SECRET",\n  "tenant": "AZURE_TENANT_ID"\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"accept-offer-terms",children:"Accept offer terms"}),"\n",(0,s.jsxs)(n.admonition,{title:"Info",type:"info",children:[(0,s.jsxs)(n.p,{children:["Replace ",(0,s.jsx)(n.code,{children:"neonforge:neonkube:0-10-0-beta-5:0.10.0"})," with the version you want to use."]}),(0,s.jsxs)(n.p,{children:["For example version 1.0.0 would be ",(0,s.jsx)(n.code,{children:"neonforge:neonkube:1-0-0:1.0.0"})]})]}),"\n",(0,s.jsx)(n.p,{children:"View offer terms:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"az vm image terms show --urn neonforge:neonkube:0-10-0-beta-5:0.10.0\n"})}),"\n",(0,s.jsx)(n.p,{children:"Accept offer terms:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"az vm image terms accept --urn neonforge:neonkube:0-10-0-beta-5:0.10.0\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cluster-definition",children:"Cluster Definition"}),"\n",(0,s.jsxs)(n.p,{children:["Create a\n",(0,s.jsx)(n.a,{href:"https://api-docs.neonforge.com/neonkube/api/Neon.Kube.ClusterDef.ClusterDefinition.html",children:"Cluster Definition"}),"\nthat describes the cluster."]}),"\n",(0,s.jsx)(n.admonition,{title:"Warning",type:"caution",children:(0,s.jsxs)(n.p,{children:["Make sure that the Azure account has enough\n",(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits",children:"Resource Quota"}),"\nto deploy the cluster."]})}),"\n",(0,s.jsx)(n.p,{children:"Be sure to substitute the following from the previous steps:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AZURE_SUBSCRIPTION_ID"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AZURE_TENANT_ID"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AZURE_CLIENT_ID"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"AZURE_CLIENT_SECRET"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"name: azure-tiny\ndatacenter: westus2\npurpose: development\ntimeSources:\n  - pool.ntp.org\nkubernetes:\n  allowPodsOnControlPlane: true\nstorage:\nhosting:\n  environment: azure\n  cloud:\n    prefixResourceNames: default\n  azure:\n    subscriptionId: AZURE_SUBSCRIPTION_ID\n    tenantId: AZURE_TENANT_ID\n    clientId: AZURE_CLIENT_ID\n    clientSecret: AZURE_CLIENT_SECRET\n    region: westus2\n    disableProximityPlacement: false\n    defaultVmSize: Standard_E4vs_v5\nnodes:\n  control-0:\n    role: control-plane\n"})}),"\n",(0,s.jsx)(n.p,{children:"Save the Cluster Definition."}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-cluster",children:"Creating the Cluster"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Right click the neon-desktop icon in the taskbar > Deploy cluster","\n",(0,s.jsx)(i.A,{img:t(3931),style:{width:300}}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"When the dialog pops up, select the Cluster Definition file you saved\nearlier."}),"\n",(0,s.jsx)(n.li,{children:"Grab a coffee and wait for neon-desktop to create the cluster."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);